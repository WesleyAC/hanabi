<!doctype html>

<html>
	<head>
		<title>hanabi</title>
		<script src="/jquery-3.5.1.js"></script>
		<script src="/jquery-ui.js"></script>

		<link rel="stylesheet" type="text/css" href="/normalize.css">
		<link rel="stylesheet" type="text/css" href="/jquery-ui.css">
		<link rel="stylesheet" type="text/css" href="/style.css">

<script>
function startGame() {
	let name = $("#gamename").val();
	if (name != "") {
		let game = {
			"name": name,
			"players": parseInt($("#players").val()),
		};
		$.ajax({
			url: "/api/newgame",
			type: "post",
			data: JSON.stringify(game),
			success: function() {
				window.location = "/game/" + name;
			},
			error: function() {
				alert("game name already in use, or other error");
			},
		});
	}
	return false;
}
</script>

	</head>
	<body>
		<div id="content">
			<h1>ðŸŽ† hanabi</h1>
			<center>
				<form onsubmit="return startGame()">
					<select id="players">
						<option value="2">2 players</option>
						<option value="3">3 players</option>
						<option value="4">4 players</option>
						<option value="5">5 players</option>
					</select>
					<input id="gamename" placeholder="game name"></input>
					<br>
					<br>
					<input type="submit" value="start game"></input>
				</form>
				<br>
				<br>
				<br>
				<p>very alpha, there are many rough edges &lt;3</p>
			</center>
		</div>
	</body>
</html>
